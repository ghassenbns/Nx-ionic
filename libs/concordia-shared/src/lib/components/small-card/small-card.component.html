<ng-container *ngIf="id && link; else block">
  <ion-router-link [routerLink]="['/', link, id]"
                   data-test-id="link"
                   class="text-decoration-none">
    <ng-container *ngTemplateOutlet="block"></ng-container>
  </ion-router-link>
</ng-container>

<ng-template #block>
  <ion-card class="py-8 ion-no-margin">
    <ion-item lines="none">
      <ion-text slot="end"
                class="ion-no-margin">
        <ion-icon [name]="icon"
                  [color]="icon_color"
                  data-test-id="icon"
                  size="large"></ion-icon>
      </ion-text>
      <ion-grid class="w-100 ion-no-padding">
        <ion-row>
          <ion-text class="w-100">
              <ion-row>
                <ion-col size="6" class="ion-no-padding">
                  <p class="text-truncate text-label ion-no-margin"
                     data-test-id="label">
                    {{ label }}
                  </p>
                </ion-col>
                <ion-col size="6" class="ion-no-padding">
                  <p *ngIf="label_detail"
                      class="text-truncate text-label ion-no-margin ion-text-right"
                      data-test-id="labelDetail">
                      {{ label_detail }}
                  </p>
                </ion-col>
              </ion-row>
          </ion-text>
        </ion-row>
        <ion-row >
          <ion-text class="w-100">
            <ng-container *ngIf="name; else emptyBlock"
                          data-test-id="smallCardName">
              <h6 [title]="name"
                  data-test-id="name"
                  class="text-truncate ion-no-margin w-100">
                {{name}}
              </h6>
            </ng-container>
          </ion-text>
        </ion-row>
      </ion-grid>
    </ion-item>
  </ion-card>
</ng-template>

<ng-template #emptyBlock>
  <ng-container *ngIf="!loading; else loadingBlock">
    <ion-text color="medium"
              data-test-id="emptyBlock">
      {{ 'global.n/a' | transloco }}
    </ion-text>
  </ng-container>
</ng-template>

<ng-template #loadingBlock>
  <h4 class="ion-no-margin">
    <ion-skeleton-text [animated]="true"
                       style="width: 100%;"></ion-skeleton-text>
  </h4>
</ng-template>
